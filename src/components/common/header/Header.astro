---
import Menu from "@lucide/astro/icons/menu";
import SellingDebrecenLogo from "../../../images/selling-debrecen-logo.svg";
import MobileMenuOverlay from "./MobileMenuOverlay.astro";
import LanguageSelector from "../LanguageSelector.astro";

import { useI18n } from "../../../i18n";

const mobileMenuButtonId = "mobile-menu-button";

const { p, t } = useI18n(Astro);
---

<header
  id="site-header"
  class="sticky top-0 w-full z-[100] bg-navy/80 backdrop-blur-sm border-b border-camel/70"
>
  <nav class="container mx-auto px-6 lg:px-12 py-4">
    <div class="hidden md:flex items-center justify-between">
      <a href={p("home")} class="text-white text-xl flex items-center gap-4">
        <SellingDebrecenLogo class="h-10 md:h-10 text-white inline-block" />
        <span class="text-white text-lg">Selling Debrecen</span>
      </a>

      <div class="flex items-center gap-8 text-sm">
        <a
          href={p("properties")}
          class="text-white hover:text-gray-300 transition-colors text-md"
        >
          {t("nav.properties")}
        </a>
        <a
          href={p("for-sellers")}
          class="text-white hover:text-gray-300 transition-colors text-md"
        >
          {t("nav.for-sellers")}
        </a>
        <a
          href={p("for-buyers")}
          class="text-white hover:text-gray-300 transition-colors text-md"
        >
          {t("nav.for-buyers")}
        </a>
        <a
          href={p("about")}
          class="text-white hover:text-gray-300 transition-colors text-md"
        >
          {t("nav.about")}
        </a>
        <a
          href="#contact"
          class="bg-white text-black px-4 py-2 rounded hover:bg-gray-100 transition-colors"
        >
          {t("nav.schedule")}
        </a>
        <LanguageSelector />
      </div>
    </div>

    <!-- Mobile Navigation -->
    <div class="md:hidden flex items-center justify-between">
      <!-- Logo -->
      <a
        id="mobile-menu-logo"
        href={p("home")}
        class="flex items-center gap-4 text-white text-xl font-semibold transition-all duration-300"
      >
        <SellingDebrecenLogo class="h-10 md:h-10 text-white inline-block" />
        Selling Debrecen
      </a>

      <div class="flex items-center gap-4">
        <LanguageSelector />
        <!-- Drawer Toggle Button -->
        <button
          id={mobileMenuButtonId}
          class="text-white p-2 relative flex items-center justify-center"
          aria-label="Toggle menu"
        >
          <Menu
            class="w-6 h-6 absolute transition-all duration-300 ease-in-out opacity-100 rotate-0 scale-100"
          />
        </button>
      </div>
    </div>
  </nav>
</header>

<!-- Mobile Drawer Menu -->
<MobileMenuOverlay mobileMenuButtonId={mobileMenuButtonId} />
