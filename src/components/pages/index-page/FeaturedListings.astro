---
import ListingCard from "./ListingCard.astro";
import { HeadingLeftAligned } from "../../common";
import { getFeaturedShortListings } from "../../../listings";
import { useI18n } from "../../../i18n";
import data from "../../../content/fixed-pages/home.json";

const { p, lang } = useI18n(Astro);
const localizedData = data[lang as keyof typeof data];
const featuredListings = await getFeaturedShortListings(lang);
---

<section class="py-20 bg-cream-soft">
  <div class="container mx-auto px-6 lg:px-12">
    <HeadingLeftAligned
      title={localizedData.featuredListingsTitle}
      titleColor="text-navy"
      descriptionColor="text-charcoal"
      subtitle={localizedData.featuredListingsSubtitle}
      description={localizedData.featuredListingsDescription}
    />

    <div
      class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-x-10 lg:gap-x-12 gap-y-8 lg:gap-y-10"
    >
      {featuredListings.map((listing) => <ListingCard listing={listing} />)}
    </div>

    <div class="mt-16 text-center">
      <a
        href={p("properties")}
        class="inline-block px-8 py-4 bg-navy text-cream font-system-ui text-base tracking-wide uppercase border-2 border-navy hover:bg-transparent hover:text-navy transition-colors duration-700"
      >
        {localizedData.featuredListingsLinkText}
      </a>
    </div>
  </div>
</section>
